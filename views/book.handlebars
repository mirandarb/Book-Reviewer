<div class="book-details">
  <h2>{{title}}</h2>
  <p><strong>Author:</strong> {{author}}</p>
  <p><strong>Description:</strong> {{description}}</p>
</div>

<div class="reviews-section">
  <h3 class="review-count">
    {{#if reviews.length}}
      {{reviews.length}} Reviews
    {{else}}
      No Reviews Yet
    {{/if}}
  </h3>
  
  {{#if logged_in}}
    <button id="add-review-btn" class="btn hvr-grow">Add Review</button>
    <div id="review-form" style="display: none;">
      <h3>Add a Review</h3>
      <form id="new-review-form">
        <input type="hidden" id="book-id-input" value="{{id}}">
        <label for="rating">Rating:</label>
        <select id="rating" name="rating" required>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
        </select>
        <label for="review-content">Review:</label>
        <textarea id="review-content" name="content" required></textarea>
        <button type="submit" class="btn hvr-grow">Submit Review</button>
      </form>
    </div>
  {{/if}}

  <div class="reviews-container">
    {{#each reviews as |review|}}
      <div class="review">
        <p><strong>Rating:</strong> {{review.rating}}/5</p>
        <p><strong>Review:</strong> {{review.content}}</p>
        <p><strong>By:</strong> {{review.user.name}}</p>
      </div>
    {{/each}}
  </div>
</div>

<script src="/js/book.js"></script>